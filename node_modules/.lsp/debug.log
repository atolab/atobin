Hello - from /home/ivan/.vscode/extensions/jaredly.reason-vscode-1.7.1/bin.native.linux
Previous log location: /tmp/lsp.log
Sending notification {"jsonrpc": "2.0", "method": "client/registerCapability", "params": {"registrations": [{"id": "watching", "method": "workspace/didChangeWatchedFiles", "registerOptions": {"watchers": [{"globPattern": "**/bsconfig.json"}, {"globPattern": "**/.merlin"}]}}]}}
Sending response {"id": 0, "jsonrpc": "2.0", "result": {"capabilities": {"textDocumentSync": 1, "hoverProvider": true, "completionProvider": {"resolveProvider": true, "triggerCharacters": ["."]}, "signatureHelpProvider": {"triggerCharacters": ["("]}, "definitionProvider": true, "typeDefinitionProvider": true, "referencesProvider": true, "documentSymbolProvider": true, "codeActionProvider": true, "executeCommandProvider": {"commands": ["reason-language-server.add_to_interface_inner"]}, "codeLensProvider": {"resolveProvider": true}, "documentHighlightProvider": true, "documentRangeFormattingProvider": true, "documentFormattingProvider": true, "documentFormattingProvider": true, "renameProvider": true}}}
Read message 
{"jsonrpc":"2.0","method":"initialized","params":{}}
Read message 
{"jsonrpc":"2.0","method":"workspace/didChangeConfiguration","params":{"settings":{"reason_language_server":{"location":"","build_system_override_by_root":{},"refmt":"","lispRefmt":"","format_width":80,"per_value_codelens":true,"dependencies_codelens":true,"opens_codelens":true,"show_module_path_on_hover":true,"reloadOnChange":false,"show_debug_errors":false,"autoRebuild":true,"useOldDuneProcess":true}}}}
Read message 
{"jsonrpc":"2.0","method":"textDocument/didOpen","params":{"textDocument":{"uri":"file:///home/ivan/github/atolab/zenoh/example/throughput/throughput_sub.ml","languageId":"ocaml","version":1,"text":"open Zenoh\nopen Cmdliner\n\nlet peers = Arg.(value & opt string \"tcp/127.0.0.1:7447\" & info [\"p\"; \"peers\"] ~docv:\"PEERS\" ~doc:\"peers\")\n\ntype state = {mutable starttime:float; mutable count:int;}\n\nlet state =  {starttime=0.0; count=0}\n\nlet listener _ _ = \n    let now = Unix.gettimeofday() in \n    Lwt.return @@ match state.starttime with \n    | 0.0 -> state.starttime <- now; state.count <- 1\n    | time when now < (time +. 1.0) -> state.count <- state.count + 1\n    | _ -> \n      Printf.printf \"%d\\n%!\" (state.count + 1)\n      ; state.starttime <-now\n      ; state.count <- 0 \n    \n\nlet run peers = \n  Lwt_main.run \n  (\n    let%lwt z = zopen peers in \n    let%lwt _ = subscribe z \"/home1\" listener in \n    let%lwt _ = Lwt_unix.sleep 3000.0 in \n    Lwt.return_unit\n  )\n\nlet () = \n  let _ = Term.(eval (const run $ peers, Term.info \"throughput_sub\")) in  ()"}}}
Found a `dune` file at /home/ivan/github/atolab/zenoh/example/throughput
]] Making a new jbuilder package at /home/ivan/github/atolab/zenoh/example/throughput
=== Project root: /home/ivan/github/atolab/zenoh
Detected `opam` dependency manager for local use
Get ocaml stdlib dirs
Old dune process
=== Build dir:    /home/ivan/github/atolab/zenoh/_build
Include subdirs? no :/
Got a compiled base /home/ivan/github/atolab/zenoh/_build/default/example/throughput/.throughput_sub.eobjs/byte
Local file: /home/ivan/github/atolab/zenoh/example/throughput/throughput_pub.ml
Local .cmt file: /home/ivan/github/atolab/zenoh/_build/default/example/throughput/.throughput_sub.eobjs/byte/Throughput_pub.cmt
Local file: /home/ivan/github/atolab/zenoh/example/throughput/bthroughput_pub.ml
Local .cmt file: /home/ivan/github/atolab/zenoh/_build/default/example/throughput/.throughput_sub.eobjs/byte/Bthroughput_pub.cmt
Local file: /home/ivan/github/atolab/zenoh/example/throughput/bthroughput_sub.ml
Local .cmt file: /home/ivan/github/atolab/zenoh/_build/default/example/throughput/.throughput_sub.eobjs/byte/Bthroughput_sub.cmt
Local file: /home/ivan/github/atolab/zenoh/example/throughput/throughput_sub.ml
Local .cmt file: /home/ivan/github/atolab/zenoh/_build/default/example/throughput/.throughput_sub.eobjs/byte/Throughput_sub.cmt
Found zenoh_proto defined in /home/ivan/github/atolab/zenoh/example/throughput/../../src/zenoh-proto/dune
Compiled base: /home/ivan/github/atolab/zenoh/_build/default/example/throughput/../../src/zenoh-proto/.zenoh_proto.objs/byte
Found zenoh_ocaml defined in /home/ivan/github/atolab/zenoh/example/throughput/../../src/zenoh-ocaml/dune
Compiled base: /home/ivan/github/atolab/zenoh/_build/default/example/throughput/../../src/zenoh-ocaml/.zenoh_ocaml.objs/byte
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/yojson
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/websocket-lwt/cohttp
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/websocket-lwt
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/websocket
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/uuidm
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/uri/sexp
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/uri/services
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/uri
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/stringext
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/stdlib-shims
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/ssl
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/sexplib0
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/sexplib
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/seq
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/result
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/re/posix
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/re
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/ppx_tools
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/ppx_sexp_conv/runtime-lib
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/ppx_deriving_yojson/runtime
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/ppx_deriving
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/ppx_derivers
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/parsexp
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/ocplib-endian
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/ocaml/threads
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/ocaml/compiler-libs
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/ocaml-migrate-parsetree
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/ocaml
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/mmap
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/magic-mime
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/macaddr
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/lwt_ssl
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/lwt_log/core
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/lwt_log
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/lwt/unix
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/lwt
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/logs
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/ipaddr/unix
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/ipaddr/sexp
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/ipaddr
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/fmt
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/fieldslib
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/easy-format
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/conduit-lwt-unix
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/conduit-lwt
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/conduit
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/cohttp-lwt-unix
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/cohttp-lwt
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/cohttp
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/cmdliner
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/bytes
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/biniou
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/bigstringaf
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/base64
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/base/shadow_stdlib
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/base/caml
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/base
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/astring
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/apero-time
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/apero-net
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/apero-core
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/ocaml
Depedency dirs /home/ivan/.opam/4.07.1/lib/yojson /home/ivan/.opam/4.07.1/lib/websocket-lwt/cohttp /home/ivan/.opam/4.07.1/lib/websocket-lwt /home/ivan/.opam/4.07.1/lib/websocket /home/ivan/.opam/4.07.1/lib/uuidm /home/ivan/.opam/4.07.1/lib/uri/sexp /home/ivan/.opam/4.07.1/lib/uri/services /home/ivan/.opam/4.07.1/lib/uri /home/ivan/.opam/4.07.1/lib/stringext /home/ivan/.opam/4.07.1/lib/stdlib-shims /home/ivan/.opam/4.07.1/lib/ssl /home/ivan/.opam/4.07.1/lib/sexplib0 /home/ivan/.opam/4.07.1/lib/sexplib /home/ivan/.opam/4.07.1/lib/seq /home/ivan/.opam/4.07.1/lib/result /home/ivan/.opam/4.07.1/lib/re/posix /home/ivan/.opam/4.07.1/lib/re /home/ivan/.opam/4.07.1/lib/ppx_tools /home/ivan/.opam/4.07.1/lib/ppx_sexp_conv/runtime-lib /home/ivan/.opam/4.07.1/lib/ppx_deriving_yojson/runtime /home/ivan/.opam/4.07.1/lib/ppx_deriving /home/ivan/.opam/4.07.1/lib/ppx_derivers /home/ivan/.opam/4.07.1/lib/parsexp /home/ivan/.opam/4.07.1/lib/ocplib-endian /home/ivan/.opam/4.07.1/lib/ocaml/threads /home/ivan/.opam/4.07.1/lib/ocaml/compiler-libs /home/ivan/.opam/4.07.1/lib/ocaml-migrate-parsetree /home/ivan/.opam/4.07.1/lib/ocaml /home/ivan/.opam/4.07.1/lib/mmap /home/ivan/.opam/4.07.1/lib/magic-mime /home/ivan/.opam/4.07.1/lib/macaddr /home/ivan/.opam/4.07.1/lib/lwt_ssl /home/ivan/.opam/4.07.1/lib/lwt_log/core /home/ivan/.opam/4.07.1/lib/lwt_log /home/ivan/.opam/4.07.1/lib/lwt/unix /home/ivan/.opam/4.07.1/lib/lwt /home/ivan/.opam/4.07.1/lib/logs /home/ivan/.opam/4.07.1/lib/ipaddr/unix /home/ivan/.opam/4.07.1/lib/ipaddr/sexp /home/ivan/.opam/4.07.1/lib/ipaddr /home/ivan/.opam/4.07.1/lib/fmt /home/ivan/.opam/4.07.1/lib/fieldslib /home/ivan/.opam/4.07.1/lib/easy-format /home/ivan/.opam/4.07.1/lib/conduit-lwt-unix /home/ivan/.opam/4.07.1/lib/conduit-lwt /home/ivan/.opam/4.07.1/lib/conduit /home/ivan/.opam/4.07.1/lib/cohttp-lwt-unix /home/ivan/.opam/4.07.1/lib/cohttp-lwt /home/ivan/.opam/4.07.1/lib/cohttp /home/ivan/.opam/4.07.1/lib/cmdliner /home/ivan/.opam/4.07.1/lib/bytes /home/ivan/.opam/4.07.1/lib/biniou /home/ivan/.opam/4.07.1/lib/bigstringaf /home/ivan/.opam/4.07.1/lib/base64 /home/ivan/.opam/4.07.1/lib/base/shadow_stdlib /home/ivan/.opam/4.07.1/lib/base/caml /home/ivan/.opam/4.07.1/lib/base /home/ivan/.opam/4.07.1/lib/astring /home/ivan/.opam/4.07.1/lib/apero-time /home/ivan/.opam/4.07.1/lib/apero-net /home/ivan/.opam/4.07.1/lib/apero-core /home/ivan/.opam/4.07.1/lib/ocaml
>> Build system running: opam exec -- dune build @install --root .
>>> stdout

>>> stderr
File "example/plugins/dune", line 7, characters 31-42:
7 |   (libraries       zenoh-ocaml dynload-sys)
                                   ^^^^^^^^^^^
Error: Library "dynload-sys" not found.
Hint: try: dune external-lib-deps --missing --root . @install
File "src/zenoh-http/dune", line 5, characters 32-43:
5 |   (libraries       zenoh-router dynload-sys httpaf httpaf-lwt-unix)
                                    ^^^^^^^^^^^
Error: Library "dynload-sys" not found.
Hint: try: dune external-lib-deps --missing --root . @install
Affected files: file:///home/ivan/github/atolab/zenoh/example/plugins/dune file:///home/ivan/github/atolab/zenoh/src/zenoh-http/dune
Cleaning bsconfig.json
Sending notification {"jsonrpc": "2.0", "method": "textDocument/publishDiagnostics", "params": {"uri": "file:///home/ivan/github/atolab/zenoh/example/throughput/bsconfig.json", "diagnostics": []}}
Found a `dune` file at /home/ivan/github/atolab/zenoh/example/plugins
]] Making a new jbuilder package at /home/ivan/github/atolab/zenoh/example/plugins
=== Project root: /home/ivan/github/atolab/zenoh
Detected `opam` dependency manager for local use
Get ocaml stdlib dirs
Old dune process
=== Build dir:    /home/ivan/github/atolab/zenoh/_build
Include subdirs? no :/
Got a compiled base /home/ivan/github/atolab/zenoh/_build/default/example/plugins/.storage.objs/byte
Not a library
>> Collecting deps for /home/ivan/.opam/4.07.1/lib/ocaml
Depedency dirs /home/ivan/.opam/4.07.1/lib/ocaml
>> Build system running: opam exec -- dune build @install --root .
>>> stdout

>>> stderr
File "example/plugins/dune", line 7, characters 31-42:
7 |   (libraries       zenoh-ocaml dynload-sys)
                                   ^^^^^^^^^^^
Error: Library "dynload-sys" not found.
Hint: try: dune external-lib-deps --missing --root . @install
File "src/zenoh-http/dune", line 5, characters 32-43:
5 |   (libraries       zenoh-router dynload-sys httpaf httpaf-lwt-unix)
                                    ^^^^^^^^^^^
Error: Library "dynload-sys" not found.
Hint: try: dune external-lib-deps --missing --root . @install
Affected files: file:///home/ivan/github/atolab/zenoh/example/plugins/dune file:///home/ivan/github/atolab/zenoh/src/zenoh-http/dune
Cleaning bsconfig.json
Sending notification {"jsonrpc": "2.0", "method": "textDocument/publishDiagnostics", "params": {"uri": "file:///home/ivan/github/atolab/zenoh/example/plugins/bsconfig.json", "diagnostics": []}}
Running diagnostics for file:///home/ivan/github/atolab/zenoh/example/plugins/dune
